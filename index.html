<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Cantos del Carmelo</title>

  <style>
    body { font-family: Arial; margin:20px; background:#f9f9f9; color:#222; }
    h1 { text-align:center; color:#900; margin-bottom:40px; }
    .section { margin-bottom:10px; border-radius:8px; background:#fff; box-shadow:0 2px 5px rgba(0,0,0,0.1); }
    .section-header { padding:15px; cursor:pointer; font-weight:bold; background:#f1f1f1; color:#900; border-radius:8px; }
    .section-content { display:none; padding:10px 15px; }
    .section-content.show { display: block; }
    .song-item { margin:5px 0; padding:5px; border-bottom:1px solid #eee; }
    .song-item a { color:#900; text-decoration:none; }
    .song-item a:hover { text-decoration:underline; }
  </style>
</head>
<body>

  <h1>Cantos del Carmelo</h1>
  <div id="sections-container"></div>

  <script>
    const categories = ["Entrada","Perdón","Gloria","Salmos","Aclamación","Post Aclamación","Ofertorio","Santo","Cordero","Comunión","Marianas","Espíritu Santo","Otras"];

    let songs = [];

    fetch('songs.json')
      .then(response => response.json())
      .then(data => {
        songs = data;
        loadSections();
      })
      .catch(error => {
        console.error('Error al cargar songs.json:', error);
      });

    function loadSections() {
      const container = document.getElementById("sections-container");

      categories.forEach(category => {
        const sectionDiv = document.createElement("div");
        sectionDiv.classList.add("section");

        const header = document.createElement("div");
        header.classList.add("section-header");
        header.textContent = category;

        const content = document.createElement("div");
        content.classList.add("section-content");

        const catSongs = songs.filter(s => s.sections.includes(category))
                              .sort((a,b) => a.title.localeCompare(b.title));

        catSongs.forEach(song => {
          const songDiv = document.createElement("div");
          songDiv.classList.add("song-item");
          songDiv.innerHTML = `<a href="song.html?name=${song.file}">${song.title}</a>`;
          content.appendChild(songDiv);
        });

        header.addEventListener("click", () => {
          content.classList.toggle("show");
        });

        sectionDiv.appendChild(header);
        sectionDiv.appendChild(content);
        container.appendChild(sectionDiv);
      });
    }
  </script>

  <!-- <p><a href="cantosmisa.html">Ver cantos de la Misa</a></p> -->
</body>
</html>


