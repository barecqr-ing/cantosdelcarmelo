<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=evice-width, initial-scale=1.0">
  <title>Cantos del Carmelo</title>

  <style>
    body { font-family: Arial; margin:20px; background:#f9f9f9; color:#222; }
    h1 { text-align:center; color:#900; margin-bottom:40px; }
    .section { margin-bottom:10px; border-radius:8px; background:#fff; box-shadow:0 2px 5px rgba(0,0,0,0.1); }
    .section-header { padding:15px; cursor:pointer; font-weight:bold; background:#f1f1f1; color:#900; border-radius:8px; }
    .section-content { display:none; padding:10px 15px; }
    .section-content.show {display: block; }
    .song-item { margin:5px 0; padding:5px; border-bottom:1px solid #eee; }
    .song-item a { color:#900; text-decoration:none; }
    .song-item a:hover { text-decoration:underline; }
  </style>
</head>
<body>
 
  <h1>Cantos del Carmelo</h1>


  <div id="sections-container"></div>

  <script>
    // Lista de canciones
    const songs = [
      { title: "Abre tu jard铆n", file: "abre-tu-jardin", sections: ["Entrada"] },
      { title: "Aqu铆 est谩mos Se帽or", file: "aqui-estamos", sections: ["Entrada"] },
      { title: "Aleluya (Anunciamos)", file: "aleluya-anunciamos", sections: ["Aclamaci贸n"] },
      { title: "Aleluya (Brasil)", file: "aleluya-brasil", sections: ["Aclamaci贸n"] },
      { title: "Canta Aleluya", file: "canta-aleluya", sections: ["Aclamaci贸n"] },
      { title: "Alma Misionera", file: "alma-misionera", sections: ["Comuni贸n"] },
      { title: "Alma Misionera", file: "alma-misionera", sections: ["Entrada"] },
      { title: "Camino Firme", file: "camino-firme", sections: ["Comuni贸n"] },
{ title: "Canta Iglesia", file: "canta-iglesia", sections: ["Entrada"] },
{ title: "Cinco Panes", file: "cinco-panes", sections: ["Ofertorio"] },
{ title: "Cordero Aravena", file: "cordero-aravena", sections: ["Cordero"] },
{ title: "Cordero Bianchi", file: "cordero-bianchi", sections: ["Cordero"] },
{ title: "Cordero de Dios Cordero", file: "cordero-dios", sections: ["Cordero"] },
{ title: "Cordero Tonada", file: "cordero-tonada", sections: ["Cordero"] },
{ title: "Cordero Mamut", file: "cordero-mamut", sections: ["Cordero"] }

    ];

    const categories = ["Entrada","Perd贸n","Gloria","Salmos","Aclamaci贸n","Post Aclamaci贸n","Ofertorio","Santo","Cordero","Comuni贸n","Marianas","Espiritu Santo","Folclore","Otras"];

    function loadSections() {
      const container = document.getElementById("sections-container");

      categories.forEach(category => {
        const sectionDiv = document.createElement("div");
        sectionDiv.classList.add("section");

        const header = document.createElement("div");
        header.classList.add("section-header");
        header.textContent = category;

        const content = document.createElement("div");
        content.classList.add("section-content");

        const catSongs = songs.filter(s => s.sections.includes(category))
                              .sort((a,b) => a.title.localeCompare(b.title));

        catSongs.forEach(song => {
          const songDiv = document.createElement("div");
          songDiv.classList.add("song-item");
          songDiv.innerHTML = `<a href="song.html?name=${song.file}">${song.title}</a>`;
          content.appendChild(songDiv);
        });

        header.addEventListener("click", () => {
          content.classList.toggle("show");
        });

        sectionDiv.appendChild(header);
        sectionDiv.appendChild(content);
        container.appendChild(sectionDiv);
      });
    }

    window.onload = loadSections;
  </script>
  
  <!--  Panel oculto de administraci贸n -->
<div id="admin-panel" style="display:none; margin-top:50px;">
  <h2>Panel de Administraci贸n</h2>
  <p>Sube archivos de texto (.txt) y audio (.mp3)</p>
  <input type="file" id="fileInput" multiple accept=".txt,.mp3">
  <button onclick="saveFiles()">Guardar en cat谩logo</button>

  <h3>Archivos guardados:</h3>
  <ul id="fileList"></ul>
</div>

<script>
  // --- Mostrar panel si se accede con ?admin=true ---
  const params = new URLSearchParams(window.location.search);
  if (params.get("admin") === "true") {
    document.getElementById("admin-panel").style.display = "block";
  }

  // --- Guardar y mostrar archivos cargados ---
  const fileInput = document.getElementById('fileInput');
  const fileList = document.getElementById('fileList');
  const savedFiles = JSON.parse(localStorage.getItem('songs') || '[]');

  renderList();

  function renderList() {
    fileList.innerHTML = '';
    savedFiles.forEach(file => {
      const li = document.createElement('li');
      li.textContent = file;
      fileList.appendChild(li);
    });
  }

  function saveFiles() {
    const files = Array.from(fileInput.files);
    files.forEach(f => {
      if (!savedFiles.includes(f.name)) {
        savedFiles.push(f.name);
      }
    });
    localStorage.setItem('songs', JSON.stringify(savedFiles));
    renderList();
    fileInput.value = '';
    alert('Archivos registrados en el cat谩logo.');
  }
</script>

</body>
</html>



















