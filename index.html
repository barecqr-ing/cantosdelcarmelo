<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=evice-width, initial-scale=1.0">
  <title>Cantos del Carmelo</title>

  <style>
    body { font-family: Arial; margin:20px; background:#f9f9f9; color:#222; }
    h1 { text-align:center; color:#900; margin-bottom:40px; }
    .section { margin-bottom:10px; border-radius:8px; background:#fff; box-shadow:0 2px 5px rgba(0,0,0,0.1); }
    .section-header { padding:15px; cursor:pointer; font-weight:bold; background:#f1f1f1; color:#900; border-radius:8px; }
    .section-content { display:none; padding:10px 15px; }
    .section-content.show {display: block; }
    .song-item { margin:5px 0; padding:5px; border-bottom:1px solid #eee; }
    .song-item a { color:#900; text-decoration:none; }
    .song-item a:hover { text-decoration:underline; }
  </style>
</head>
<body>
 
  <h1>Cantos del Carmelo</h1>


  <div id="sections-container"></div>

  <script>
    // Lista de canciones
    const songs = [
      { title: "Abre tu jard√≠n", file: "abre-tu-jardin", sections: ["Entrada"] },
      { title: "Aqu√≠ est√°mos Se√±or", file: "aqui-estamos", sections: ["Entrada"] },
      { title: "Aleluya (Anunciamos)", file: "aleluya-anunciamos", sections: ["Aclamaci√≥n"] },
      { title: "Aleluya (Brasil)", file: "aleluya-brasil", sections: ["Aclamaci√≥n"] },
      { title: "Canta Aleluya", file: "canta-aleluya", sections: ["Aclamaci√≥n"] },
      { title: "Alma Misionera", file: "alma-misionera", sections: ["Comuni√≥n"] },
      { title: "Alma Misionera", file: "alma-misionera", sections: ["Entrada"] },
      { title: "Camino Firme", file: "camino-firme", sections: ["Comuni√≥n"] },
{ title: "Canta Iglesia", file: "canta-iglesia", sections: ["Entrada"] },
{ title: "Cinco Panes", file: "cinco-panes", sections: ["Ofertorio"] },
{ title: "Cordero Aravena", file: "cordero-aravena", sections: ["Cordero"] },
{ title: "Cordero Bianchi", file: "cordero-bianchi", sections: ["Cordero"] },
{ title: "Cordero de Dios Cordero", file: "cordero-dios", sections: ["Cordero"] },
{ title: "Cordero Tonada", file: "cordero-tonada", sections: ["Cordero"] },
{ title: "Cordero Mamut", file: "cordero-mamut", sections: ["Cordero"] }

    ];

    const categories = ["Entrada","Perd√≥n","Gloria","Salmos","Aclamaci√≥n","Post Aclamaci√≥n","Ofertorio","Santo","Cordero","Comuni√≥n","Marianas","Espiritu Santo","Folclore","Otras"];

    function loadSections() {
      const container = document.getElementById("sections-container");

      categories.forEach(category => {
        const sectionDiv = document.createElement("div");
        sectionDiv.classList.add("section");

        const header = document.createElement("div");
        header.classList.add("section-header");
        header.textContent = category;

        const content = document.createElement("div");
        content.classList.add("section-content");

        const catSongs = songs.filter(s => s.sections.includes(category))
                              .sort((a,b) => a.title.localeCompare(b.title));

        catSongs.forEach(song => {
          const songDiv = document.createElement("div");
          songDiv.classList.add("song-item");
          songDiv.innerHTML = `<a href="song.html?name=${song.file}">${song.title}</a>`;
          content.appendChild(songDiv);
        });

        header.addEventListener("click", () => {
          content.classList.toggle("show");
        });

        sectionDiv.appendChild(header);
        sectionDiv.appendChild(content);
        container.appendChild(sectionDiv);
      });
    }

    window.onload = loadSections;
  </script>
  
 <!-- üîπ Panel de Administraci√≥n -->
<div id="admin-panel" style="display:none; margin-top:50px;">
  <h2>Panel de Administraci√≥n</h2>

  <label for="titleInput"><strong>T√≠tulo de la canci√≥n:</strong></label>
  <input type="text" id="titleInput" placeholder="Ej: Abre tu jard√≠n" style="width:100%; margin:8px 0; padding:6px;">

  <label><strong>Categor√≠as:</strong></label><br>
  <div id="categories-container" style="margin-bottom:10px;"></div>

  <p>Sube archivos de texto (.txt) y audio (.mp3):</p>
  <input type="file" id="fileInput" multiple accept=".txt,.mp3"><br>
  <button onclick="saveSong()">Guardar canci√≥n</button>

  <h3>Canciones guardadas:</h3>
  <ul id="songList"></ul>
</div>

<script>
  const params = new URLSearchParams(window.location.search);
  if (params.get("admin") === "true") {
    document.getElementById("admin-panel").style.display = "block";
  }

  // Categor√≠as
  const categories = ["Entrada","Perd√≥n","Gloria","Salmos","Aclamaci√≥n","Ofertorio","Santo","Cordero","Comuni√≥n","Marianas","Espiritu Santo","Otras"];
  const container = document.getElementById("categories-container");
  categories.forEach(cat => {
    const label = document.createElement("label");
    label.innerHTML = `<input type="checkbox" value="${cat}"> ${cat}`;
    label.style.marginRight = "10px";
    container.appendChild(label);
  });

  const songList = document.getElementById('songList');
  const savedSongs = JSON.parse(localStorage.getItem('songsData') || '[]');

  renderList();

  function renderList() {
    songList.innerHTML = '';
    savedSongs.forEach(song => {
      const li = document.createElement('li');
      li.textContent = `${song.title} ‚Äî (${song.categories.join(', ')})`;
      songList.appendChild(li);
    });
  }

  function saveSong() {
    const title = document.getElementById('titleInput').value.trim();
    if (!title) { alert('Falta el t√≠tulo'); return; }

    const selectedCats = Array.from(document.querySelectorAll('#categories-container input:checked')).map(i => i.value);
    if (selectedCats.length === 0) { alert('Selecciona al menos una categor√≠a'); return; }

    const files = Array.from(document.getElementById('fileInput').files);
    if (files.length === 0) { alert('Sube al menos un archivo'); return; }

    const baseName = title.toLowerCase().replace(/\s+/g, '-');
    const songData = { title, file: baseName, categories: selectedCats };

    savedSongs.push(songData);
    localStorage.setItem('songsData', JSON.stringify(savedSongs));

    document.getElementById('titleInput').value = '';
    document.querySelectorAll('#categories-container input').forEach(i => i.checked = false);
    document.getElementById('fileInput').value = '';

    renderList();
    alert('Canci√≥n guardada correctamente');
  }
</script>


</body>
</html>




















